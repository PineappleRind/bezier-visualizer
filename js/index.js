!function(){function t(t){return document.getElementById(t)}function e(t,e,n){return Math.round(100*((1-n)*t+n*e))/100}var n={data:[[331,351],[38,351],[331,14],[38,14]],presets:[{name:"Default",data:[[30,250],[250,250],[30,30],[250,30]],show:null},{name:"Bow",data:[[143,323],[482,25],[54,21],[113,373],[231,298],[482,25],[54,21],[279,300],[371,381],[483,25],[54,20],[357,324]],show:null},{name:"Cursive f",data:[[193,313],[513,246],[42,42],[410,6],[120,586],[567,521],[53,339],[332,283]],show:null},{name:"Infinity Warp",data:[[683,396],[592,368],[737,382],[799,228],[764,49],[639,8],[456,144],[260,331],[97,398],[9,282],[16,91],[118,0],[288,93],[486,284],[618,384],[775,330],[796,142],[719,8],[565,50],[370,230],[158,393],[48,367],[0,198],[50,31],[185,19],[373,174],[568,353],[722,391],[796,254],[774,67],[660,2],[483,119],[285,310],[115,400],[15,306],[10,114],[100,2],[263,71],[460,259],[642,393],[765,349],[799,168],[735,17],[589,34],[396,204],[205,370],[62,380],[1,225],[38,46],[163,9]],show:{lines:!1,midpoints:!0,trail:!1,controlpoints:!1,finalmidpoint:!1}},{name:"Circle Warp",data:[[300,600],[552,462],[573,175],[342,3],[73,104],[12,385],[216,588],[495,528],[597,256],[424,27],[137,48],[0,301],[139,553],[426,572],[597,341],[495,72],[214,13],[12,217],[75,498],[345,597],[574,422],[551,136],[297,0],[46,140],[28,427],[260,597],[529,494],[587,212],[381,11],[101,76],[4,346],[179,574],[465,550],[600,296],[459,45],[172,29],[2,262],[107,530],[389,587],[589,380],[524,100],[252,4],[25,180],[50,467],[305,600],[555,458],[571,170],[337,2],[70,108],[14,390],[221,589],[501,523],[596,251],[419,25],[132,51],[0,307],[144,556],[431,570],[598,336],[491,69],[209,14],[10,223],[78,502],[350,596],[576,418],[548,131],[292,0],[43,145],[31,432],[266,598],[532,490],[585,207],[376,10],[97,79],[4,352],[184,577],[470,547],[600,291],[454,43],[167,31],[2,267],[111,533],[394,585],[591,375],[520,96],[247,5],[23,185],[53,471],[311,600],[558,453],[568,166],[332,2],[66,112],[16,395],[226,591],[505,519],[595,246],[414,22],[128,54],[0,312]],show:{lines:!1,midpoints:!0,trail:!1,controlpoints:!1,finalmidpoint:!1}}],show:{lines:!1,midpoints:!0,trail:!1,controlpoints:!1,finalmidpoint:!1},settings:{speed:.002,ease:"easeInOutQuad",show:{lines:!0,midpoints:!0,trail:!0,controlpoints:!0,finalmidpoint:!0},colorAlgorithm:"goldenAngle"}};let a={play:'\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26">\n                    <polygon fill="#ffffff" class="play-btn__svg" points="9.33 6.69 9.33 19.39 19.3 13.04 9.33 6.69" />\n                <path fill="#ffffff" class="play-btn__svg"\n                    d="M26,13A13,13,0,1,1,13,0,13,13,0,0,1,26,13ZM13,2.18A10.89,10.89,0,1,0,23.84,13.06,10.89,10.89,0,0,0,13,2.18Z" />\n                    </svg>',pause:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"\n                    viewBox="0 0 267 267" style="enable-background:new 0 0 26 26;">\n                    <g>\n                        <path style="fill:#ffffff;"\n                            d="M135.977,271.953c75.097,0,135.977-60.879,135.977-135.977S211.074,0,135.977,0S0,60.879,0,135.977    S60.879,271.953,135.977,271.953z M135.977,21.756c62.979,0,114.22,51.241,114.22,114.22s-51.241,114.22-114.22,114.22    s-114.22-51.241-114.22-114.22S72.992,21.756,135.977,21.756z" />\n                        <path style="fill:#ffffff;"\n                            d="M110.707,200.114c7.511,0,13.598-6.086,13.598-13.598V83.174c0-7.511-6.086-13.598-13.598-13.598    c-7.511,0-13.598,6.086-13.598,13.598v103.342C97.109,194.028,103.195,200.114,110.707,200.114z" />\n                        <path style="fill:#ffffff;"\n                            d="M165.097,200.114c7.511,0,13.598-6.086,13.598-13.598V83.174c0-7.511-6.086-13.598-13.598-13.598    S151.5,75.663,151.5,83.174v103.342C151.5,194.028,157.586,200.114,165.097,200.114z" />\n                    </g>\n                </svg>'},i=[];document.documentElement;var o={getData:function(){return JSON.parse(localStorage.getItem("bezierSaveData"))},set:function(){return T(),localStorage.setItem("bezierSaveData",JSON.stringify(n))}};o.getData()?n=o.getData():o.set();let s={goldenAngle:t=>`hsl(${137.50776405*t},100%,50%)`,rainbow:t=>`hsl(${20*t},100%,50%)`,grayscale:t=>`hsl(0,0%,${t/n.data.length*100}%)`};var l=[];function c(t,e){let n=document.createElement("DIV");n.classList.add("toast"),n.classList.add(e),n.innerHTML=t,setTimeout(function(){n.classList.add("showing"),setTimeout(function(){n.classList.remove("showing"),setTimeout(function(){n.remove()},500)},3e3)}),document.body.appendChild(n)}n.data.forEach(function(t,e){l.push(s[n.settings.colorAlgorithm](e))});let r=n.data.length-1;var d=!0,f={element:t("canvas"),context:t("canvas").getContext("2d"),clear:function(){f.context.clearRect(0,0,f.element.width,f.element.height)}},u={element:t("canvas2"),context:t("canvas2").getContext("2d"),clear:function(){u.context.clearRect(0,0,f.element.width,f.element.height)}},h=0,g=1;function p(t,e){g++,l.push(rainbow(g)),t||(t=0),e||(e=0),n.data.push([t,e]),r=n.data.length-1,L(),o.set()}function m(){f.element.setAttribute("height",window.innerHeight),f.element.setAttribute("width",window.innerWidth),u.element.setAttribute("height",window.innerHeight),u.element.setAttribute("width",window.innerWidth)}function w(t,e,n,a){f.context.beginPath(),f.context.arc(t,e,n,0,2*Math.PI,!0),f.context.closePath(),f.context.fillStyle=a||"#ffffff",f.context.fill()}function v(t,e,n,a){f.context.beginPath(),f.context.strokeStyle="#ffffff",f.context.moveTo(t,e),f.context.lineTo(n,a),f.context.stroke()}function b(){let e=t("quickPlay");!0===d?(window.requestAnimationFrame(x),t("playBtn").innerHTML="Stop",t("quickPlay").classList.add("playing")):(window.cancelAnimationFrame(x),t("playBtn").innerHTML="Play",t("quickPlay").classList.remove("playing")),e.classList.contains("playing")?e.innerHTML=a.pause:e.innerHTML=a.play}function y(){!0===d?window.cancelAnimationFrame(x):!1===d?window.requestAnimationFrame(x):window.cancelAnimationFrame(x),h=0,f.clear(),u.clear(),d=!0,L()}function x(){f.clear(),n.settings.ease||(n.settings.ease="quadraticEaseInOut"),t("speedometer").innerHTML="t="+s[n.settings.ease](h).toFixed(2),h+=n.settings.speed,easedT=s[n.settings.ease](h),function(t){r=n.data.length-1,i=Array(r).fill([]);for(let a=0;a<r;a++)for(let o=0;o<r-a;o++)0===a?i[0].push([e(n.data[o][0],n.data[o+1][0],t),e(n.data[o][1],n.data[o+1][1],t)]):0!=a&&o<r-a&&i[a].push([e(i[a-1][o][0],i[a-1][o+1][0],t),e(i[a-1][o][1],i[a-1][o+1][1],t)])}(easedT);let a=function(){for(let t=0;t<i.length;t++)for(let e=0;e<i[t].length;e++){let a=3;if(t===i.length-1&&!0===n.settings.show.finalmidpoint&&(a=10),(1==n.settings.show.midpoints||10==a&&1==n.settings.show.finalmidpoint)&&w(i[t][e][0],i[t][e][1],a),1==n.settings.show.lines&&e>0&&v(i[t][e][0],i[t][e][1],i[t][e-1][0],i[t][e-1][1]),t===i.length-1)return[i[t][e][0],i[t][e][1]]}}();!function(t,e){if(0==n.settings.show.trail)return;u.context.beginPath(),u.context.fillStyle="#ffffff",u.context.arc(t,e,10,0,2*Math.PI,!0),u.context.closePath(),u.context.fill()}(a[0],a[1]),window.cancelAnimationFrame(x),L(),h>=1||!1===d?(window.cancelAnimationFrame(x),d=!1,t("playBtn").classList.remove("playing"),b()):window.requestAnimationFrame(x)}m(),onresize=(()=>{m(),L()}),b(),P();var k=!1,A=-1;function S(t){if(!0===k){var e=t.clientX,a=t.clientY;if(-1!=A)return void s(A);for(var i=0;i<n.data.length;i++)if(!0===M(e,a,i)){if(-1==A&&(A=i),e<0)break;if(a<0)break;if(e>window.innerWidth)break;if(a>window.innerHeight)break;s(i);break}}function s(t){n.data[t][0]=e,n.data[t][1]=a,f.clear(),L(),o.set()}}function M(t,e,a){return(t>=n.data[a][0]&&t<=n.data[a][0]+10||t<=n.data[a][0]&&t>=n.data[a][0]-10)&&(e>=n.data[a][1]&&e<=n.data[a][1]+10||e<=n.data[a][1]&&e>=n.data[a][1]-10)||A===a}function L(){if(1==n.settings.show.lines)for(var t=0;t<n.data.length-1;t++)v(n.data[t][0],n.data[t][1],n.data[t+1][0],n.data[t+1][1]);for(t=0;t<n.data.length;t++)!0===n.settings.show.controlpoints&&w(n.data[t][0],n.data[t][1],10,l[t])}function P(){for(let t=0;t<document.querySelectorAll(".showCheckbox").length;t++){let e=document.querySelectorAll(".showCheckbox")[t],a=n.settings.show[Object.keys(n.settings.show)[t]];e.checked=!0===a}}function T(){t("saveDataTextarea").value=JSON.stringify(n)}onmousedown=function(){k=!0},ontouchstart=function(){k=!0},onmouseup=function(){k=!1,A=-1,-1},onmousemove=function(t){S(t)},ontouchmove=function(t){S(t.touches[0])},f.element.ondblclick=(t=>{!function(t){for(var e=t.clientX,a=t.clientY,i=0,s=0;s<n.data.length;s++){if(!0===M(e,a,s)&&n.data.length<=2){c("You can't have less than 2 points","info");break}if(!0===M(e,a,s)&&n.data.length>2){A=s,n.data=(l=n.data,d=n.data[s],u=void 0,(u=l.indexOf(d))>-1&&l.splice(u,1),l),f.clear(),o.set(),r=n.data.length-1,L(),A=-1;break}if(i++,s==n.data.length-1&&i==n.data.length-1)break;if(s==n.data.length-1&&i==n.data.length){p(e,a);break}}var l,d,u}(t)}),t("easeOption").oninput=function(){n.settings.ease=t("easeOption").value,o.set()},t("colorOption").oninput=function(){n.settings.colorAlgorithm=t("colorOption").value,l=[],n.data.forEach(function(t,e){l.push(s[n.settings.colorAlgorithm](e))}),o.set()},oninput=(t=>{let e=t.target.getAttribute("id");n.settings.show[e]=!n.settings.show[e],o.set()}),t("animationSpeed").value=1e3*n.settings.speed,t("colorOptionWrapper").innerHTML=function(){let t='<select id="colorOption">\n      ';for(let e=0;e<s.length;e++)selected="",n.settings.colorAlgorithm[e]===s[e]&&(selected="selected"),t+=`<option value="${s[e]}" name="${s[e]}" ${selected}>${s[e]}</option>\n          `;return t+="\n      </select>"}(),T(),t("quickPlay").onclick=(()=>{h>=.99?(y(),window.cancelAnimationFrame(x)):(d=!d,b())});var $=t("presetSelectChoice");C();function C(){let t='<div id="presetChoice">\n\t\t\t';for(let e=0;e<n.presets.length;e++)t+=`\t<div class="preset"><h1>${n.presets[e].name}</h1><button onclick="removePreset(${e});toast('Preset ${n.presets[e].name} successfully deleted','success');this.parentElement.remove()">Delete</button><button onclick="editPresetData(${e})">Edit Data</button><button onclick="changePresetName(${e});">Rename</button></div>\n\t\t\t\t`;return t+="\n\t\t\t</div>"}function O(){let t='<select id="presetChoice">\n\t\t\t';for(let e=0;e<n.presets.length;e++)selected="",n.presets[e].data==n.data&&(selected="selected"),t+=`<option value="${e}" ${selected}>${n.presets[e].name}</option>\n\t\t\t\t`;return t+="\n\t\t\t</select>"}$.oninput=(()=>{!function(t){let e,a=n.presets[t];n.data=a.data,e=null===a.show?{lines:!0,midpoints:!0,trail:!0,controlpoints:!0,finalmidpoint:!0}:a.show;n.settings.show=e,y(),o.set(),P()}(parseInt($.value)),o.set()}),t("presetSelectChoice").innerHTML=O()}();